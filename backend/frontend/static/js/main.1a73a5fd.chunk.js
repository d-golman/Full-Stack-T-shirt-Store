(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(17),o=n.n(s),i=(n(36),n(3)),l=n(6),u=n(4),j=n(30),d=n(8),b=n.n(d),h=n(14),O="http://127.0.0.1:8000/api/",p=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("".concat(O,"user/"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(201!==t.status){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",Object.values(n));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return fetch("".concat(O,"user/login/"),{method:"POST",body:t}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},m=function(e){localStorage.webToken=JSON.stringify(e)},x=function(){return!!localStorage.webToken&&fetch("".concat(O,"user/usercheck/").concat(JSON.parse(localStorage.webToken),"/")).then((function(e){return e.json()})).then((function(e){return!!e.result})).catch((function(){return!1}))},v=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return x()?Object(c.jsx)(l.b,Object(u.a)(Object(u.a)({},n),{},{component:t})):Object(c.jsx)(l.a,{to:{pathname:"/signin",state:{from:n.location}}})},g=n(2),N=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.webToken){e.next=5;break}return t=null,e.next=4,fetch("".concat(O,"user/getuserdata/").concat(JSON.parse(localStorage.webToken),"/")).then((function(e){return e.json()})).then((function(e){return t=e}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=n(13);n(42);var y=function(){return Object(c.jsx)("footer",{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{children:"PROGRAMMING SHIRTS"}),Object(c.jsxs)("div",{className:"footer-links",children:[Object(c.jsx)(i.b,{className:"footer-link",to:"/",children:"HOME"}),Object(c.jsx)(i.b,{className:"footer-link",to:"/shop/",children:"SHOP"}),Object(c.jsx)(i.b,{className:"footer-link",to:"/cart/",children:"CART"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"\xa92020 Programmers Shirts. All rights reserved"})]})})};n(26);var k=function(e){var t=e.show;return Object(c.jsx)("div",{className:"overlay".concat(t?" show":" hide"),children:Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{className:"navbar-link",to:"/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{className:"navbar-link",to:"/shop/",children:"Shop"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{className:"navbar-link",to:"/cart/",children:"Cart "})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{className:"navbar-link",to:"/user/profile",children:"Profile"})})]})})})},w=function(e,t){return e.location.pathname===t?{textDecoration:"underline"}:{textDecoration:"none"}},E=Object(l.h)((function(e){var t=e.history,n=Object(r.useState)(!1),a=Object(g.a)(n,2),s=a[0],o=a[1],l=function e(t){t.target.classList.contains("overlay")&&(o(!1),document.removeEventListener("click",e))};return Object(c.jsxs)("nav",{className:"navbar",children:[Object(c.jsx)(k,{show:s}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"dropdown-button",onClick:function(){document.addEventListener("click",l),o(!0)},children:Object(c.jsx)("div",{className:"dropdown-button-line"})}),Object(c.jsxs)("div",{className:"navbar-links",children:[Object(c.jsx)(i.b,{style:w(t,"/"),className:"navbar-link",to:"/",children:"Home"}),Object(c.jsx)(i.b,{style:w(t,"/shop/"),className:"navbar-link",to:"/shop/",children:"Shop"})]}),Object(c.jsx)("div",{className:"navbar-title",children:Object(c.jsx)("h2",{children:"PROGRAMMING SHIRTS"})}),Object(c.jsxs)("div",{className:"navbar-icons",children:[Object(c.jsx)(i.b,{to:"/cart/",children:Object(c.jsx)("i",{className:"fas fa-shopping-cart"})}),Object(c.jsx)(i.b,{to:"/user/profile/",children:Object(c.jsx)("i",{className:"fas fa-user-circle"})})]})]})]})})),C=n(7),T=function(e){return{type:"EDIT_PRODUCTS",payload:e}},P=function(e){return{type:"SET_ERROR",payload:e}},D=(n(44),{setError:P}),R=Object(C.b)((function(e){return{error:e.error}}),D)((function(e){var t=e.children,n=e.error,r=e.setError;return n?Object(c.jsxs)("div",{className:"error-block",children:[Object(c.jsx)("h2",{children:"Oh, seems like something went wrong."}),Object(c.jsx)("a",{onClick:function(){return r(!1)},href:"/",className:"btn btn-black",children:"Give us one more chance, please"})]}):Object(c.jsx)(c.Fragment,{children:t})})),I=(n(45),function(e){var t=e.children;return Object(c.jsxs)("div",{className:"base",children:[Object(c.jsx)(E,{}),Object(c.jsx)(R,{children:Object(c.jsx)("div",{className:"container",children:t})}),Object(c.jsx)(y,{})]})}),J=(n(27),function(e){var t=e.path,n=Object(r.useState)({}),a=Object(g.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(null),j=Object(g.a)(i,2),d=j[0],b=j[1],h=Object(r.useState)(!1),O=Object(g.a)(h,2),v=O[0],N=O[1],y=Object(r.useState)(!1),k=Object(g.a)(y,2),w=k[0],E=k[1],C=function(e){var t=e.target,n=t.id,c=t.value;o((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(S.a)({},n,c))}))};Object(r.useEffect)((function(){x()?E(!0):E(!1)}),[]);var T=Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col text-left",children:Object(c.jsx)("div",{className:"alert alert-danger",style:{display:d?"block":"none"},children:d})})});return w?Object(c.jsx)(l.a,{to:t}):v?Object(c.jsx)(z,{to:t}):Object(c.jsxs)("form",{className:"sign-form",onSubmit:function(e){e.preventDefault(),b(null),p(s).then((function(e){Array.isArray(e)?b(e):f(s).then((function(e){e&&e.error?b(e.error):(m(e.token),window.location.reload())}))})).catch((function(e){return console.log(e)}))},children:[Object(c.jsx)("h2",{children:"Sign Up"}),T,Object(c.jsx)("input",{type:"email",id:"email",className:"form-control",required:!0,placeholder:"Email *",onChange:C}),Object(c.jsx)("input",{type:"password",id:"password",className:"form-control",required:!0,placeholder:"Password *",onChange:C}),Object(c.jsx)("input",{type:"name",id:"name",className:"form-control",placeholder:"Name",onChange:C}),Object(c.jsx)("input",{type:"phone",id:"phone",className:"form-control",placeholder:"Phone",onChange:C}),Object(c.jsx)("input",{type:"submit",id:"inputSubmit",className:"btn btn-dark",value:"Sign Up"}),Object(c.jsx)("button",{onClick:function(){return N(!0)},className:"btn btn-light",children:"I am already registred"})]})}),z=function(e){var t=e.path,n=Object(r.useState)(!1),a=Object(g.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!0),j=Object(g.a)(i,2),d=j[0],b=j[1];Object(r.useEffect)((function(){x()?o(!0):o(!1)}),[]);var h=Object(r.useState)({email:"",password:""}),O=Object(g.a)(h,2),p=O[0],v=O[1],N=Object(r.useState)(null),y=Object(g.a)(N,2),k=y[0],w=y[1],E=function(e){var t=e.target,n=t.type,c=t.value;v((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(S.a)({},n,c))}))},C=Object(c.jsx)("div",{className:"form-control alert",style:{display:k?"block":"none"},children:k});return s?Object(c.jsx)(l.a,{to:t}):d?Object(c.jsxs)("form",{className:"sign-form",onSubmit:function(e){e.preventDefault(),w(null),f(p).then((function(e){e&&e.error?w(e.error):(m(e.token),window.location.reload())})).catch((function(e){return console.log(e)}))},children:[Object(c.jsx)("h2",{children:"Sign In"}),C,Object(c.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",required:!0,placeholder:"Email",onChange:E}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",required:!0,placeholder:"Password",onChange:E}),Object(c.jsx)("input",{type:"submit",id:"inputSubmit",className:"btn btn-dark",value:"Sign In"}),Object(c.jsx)("button",{onClick:function(){return b(!1)},className:"btn btn-light",children:"Not registred yet?"})]}):Object(c.jsx)(J,{path:t})},A=function(){return Object(c.jsx)(I,{children:Object(c.jsx)(z,{path:"/"})})},q=function(e,t){var n=localStorage.cart?JSON.parse(localStorage.cart):[];n.push(Object(u.a)(Object(u.a)({},e),{},{name:[e.name,t]})),localStorage.setItem("cart",JSON.stringify(n))},F=function(e){var t=localStorage.cart?JSON.parse(localStorage.cart):[],n=t.indexOf(t.filter((function(t){return t.name[0]===e.name[0]&&t.name[1]===e.name[1]}))[0]);-1!==n&&(t.splice(n,1),localStorage.setItem("cart",JSON.stringify(t)))},_=Object(l.h)((function(e){var t=e.userData,n=e.products,a=e.history,s=e.children,o=Object(r.useState)(null),i=Object(g.a)(o,2),l=i[0],j=i[1],d=Object(r.useState)({email:"",phone:"",address:""}),b=Object(g.a)(d,2),h=b[0],O=b[1];Object(r.useEffect)((function(){O((function(e){for(var n in e)t[n]&&(e[n]=t[n]);return e}))}),[t]);var p=function(e){var t=e.target,n=t.id,c=t.value;O((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(S.a)({},n,c))}))},f=Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col text-left",children:Object(c.jsx)("div",{className:"alert alert-danger",style:{display:l?"block":"none"},children:l})})}),m=t.name,x=t.email,v=t.phone;return Object(c.jsxs)(c.Fragment,{children:[s,Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(null),h.products=n.map((function(e){return e.name})),h.amount=n.reduce((function(e,t){return e+parseInt(t.price)}),0),h.token=JSON.parse(localStorage.webToken),a.push({pathname:"/order/",state:{orderData:h}})},className:"sign-form",children:[Object(c.jsx)("h2",{children:"Delivery Details"}),f,Object(c.jsx)("input",{id:"email",defaultValue:x,type:"email",className:"form-control",required:!0,placeholder:"Email",disabled:!0,onChange:p}),Object(c.jsx)("input",{id:"name",defaultValue:m,type:"name",className:"form-control",required:!0,placeholder:"Name",disabled:!0,onChange:p}),Object(c.jsx)("input",{id:"phone",defaultValue:v,type:"phone",className:"form-control",required:!0,placeholder:"Phone",disabled:!0,onChange:p}),Object(c.jsx)("input",{id:"address",type:"address",className:"form-control",required:!0,placeholder:"Address",onChange:p}),Object(c.jsx)("input",{type:"submit",id:"inputSubmit",className:"btn btn-dark",value:"Checkout"})]})]})}));n(46);var H={setError:P},U=Object(C.b)((function(){return{}}),H)((function(e){var t=e.setError,n=Object(r.useState)([]),a=Object(g.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(null),l=Object(g.a)(i,2),u=l[0],j=l[1],d=Object(r.useState)(0),O=Object(g.a)(d,2),p=O[0],f=O[1];Object(r.useEffect)((function(){o(m()),function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,N().catch((function(){return t(!0)}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var m=function(){if(localStorage.cart){var e=JSON.parse(localStorage.cart);return f((function(){return e.reduce((function(e,t){return e+parseInt(t.price)}),0)})),e}return[]},x=function(){return s.length>0?s.map((function(e,t){return Object(c.jsx)(S,{product:e},t)})):Object(c.jsx)(c.Fragment,{})},v=function(){var e=s.length;return Object(c.jsx)("div",{className:"calculation",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Total products: ",e]}),Object(c.jsxs)("li",{children:["Total price: $",p]})]})})},S=function(e){var t=e.product,n=e.id,r=t.name,a=t.price,s=t.image,i=Object(g.a)(r,2),l=i[0],u=i[1];return Object(c.jsxs)("div",{className:"cart-card",children:[Object(c.jsx)("div",{className:"cart-card-image",children:Object(c.jsx)("img",{src:s,alt:r})}),Object(c.jsxs)("div",{className:"cart-card-body",children:[Object(c.jsxs)("h3",{className:"card-title",children:[l," (",u,")"]}),Object(c.jsxs)("p",{className:"card-price",children:["$",a]}),Object(c.jsx)("button",{onClick:function(){F(t),o(m())},className:"btn btn-dark",children:"Remove from Cart"})]})]},n)};return Object(c.jsx)(I,{children:Object(c.jsxs)("section",{className:"cart",children:[Object(c.jsxs)("div",{className:"cart-data",children:[Object(c.jsx)("h2",{children:"Cart"}),Object(c.jsx)(x,{}),Object(c.jsx)(v,{})]}),Object(c.jsx)("div",{className:"user-data",children:u?Object(c.jsx)(_,{userData:u,products:s}):Object(c.jsx)(z,{path:"/cart/"})})]})})})),G=Object(l.h)((function(e){var t=e.product,n=Object(r.useState)(!1),a=Object(g.a)(n,2),s=a[0],o=a[1],l=Object(r.useState)(null),u=Object(g.a)(l,2),j=u[0],d=u[1],b=function(e,t){return!!(e&&localStorage.cart&&JSON.parse(localStorage.cart).filter((function(n){return n.id===e.id&&n.name[1]===t})).length>0)};Object(r.useEffect)((function(){d(t.sizes[0]),o(b(t,t.sizes[0]))}),[t]);var h=function(){q(t,j),o(b(t,j))},O=function(){F({name:[t.name,j]}),o(b(t,j))},p=t.id,f=t.name,m=t.price,x=t.image,v=t.sizes;return Object(c.jsxs)("div",{className:"shop-card",children:[Object(c.jsx)("div",{className:"shop-card-image-block",children:Object(c.jsx)(i.b,{to:"/shop/".concat(p,"/"),children:Object(c.jsx)("img",{src:x,alt:f})})}),Object(c.jsx)("p",{className:"shop-card-header",children:f}),Object(c.jsxs)("p",{className:"shop-card-price",children:["$",m]}),Object(c.jsx)("select",{className:"shop-card-selector",onChange:function(e){d(e.target.value),o(b(t,e.target.value))},children:v.length>0?v.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)})):Object(c.jsx)("option",{disabled:!0,children:"Sorry nothing left :("})}),t.sizes.length>0&&t.is_active?Object(c.jsx)("button",{onClick:h,className:"btn btn-dark",children:Object(c.jsx)("i",{className:"fas fa-shopping-cart","aria-hidden":"true"})}):Object(c.jsx)("p",{className:"btn btn-light",style:{cursor:"default"},children:"Coming soon"}),s&&Object(c.jsx)("button",{onClick:O,className:"btn btn-light",children:"Remove"})]})})),M=function(){return fetch("".concat(O,"product/"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{sizes:e.sizes.filter((function(e){return e}))})}))}))},V=(n(47),{editProducts:T,setError:P}),$=Object(C.b)((function(e){return{products:e.products}}),V)((function(e){var t=e.products,n=e.setError,a=e.editProducts;return Object(r.useEffect)((function(){M().then((function(e){e.error?n(!0):a(e)})).catch((function(){return n(!0)}))}),[]),Object(c.jsx)(I,{children:Object(c.jsx)("div",{className:"shop",children:t&&t.map((function(e,t){return Object(c.jsx)(G,{product:e},t)}))})})}));n(28);var L={setError:P},Y=Object(C.b)((function(){return{}}),L)((function(e){var t=e.history,n=e.setError,r=t.location.state.orderData,a=r.amount,s=r.products,o=r.address,i=r.token,u={amount:a,products:s,address:o};return t.location.state.orderData?Object(c.jsx)(I,{children:Object(c.jsxs)("div",{className:"order",children:[Object(c.jsx)("h2",{children:"Your order"}),Object(c.jsxs)("div",{className:"order-card",children:[Object(c.jsx)("p",{children:"Products"}),Object(c.jsx)("ul",{children:s.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))}),Object(c.jsxs)("p",{children:["Address: ",o]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("p",{children:["Total amount: $",a]}),Object(c.jsx)("button",{onClick:function(){(function(e,t){console.log(e);var n=JSON.stringify(e);return console.log(n),fetch("".concat(O,"order/add/").concat(t,"/"),{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()}))})(u,i).then((function(e){window.location.replace(e.payment_url),localStorage.cart=[]})).catch((function(){return n(!0)}))},className:"btn btn-dark",children:"Continue to payment"})]})]})}):Object(c.jsx)(l.a,{to:"/"})}));var B={setError:P},W=Object(C.b)((function(){return{}}),B)((function(e){var t,n=e.match,a=e.history,s=e.setError,o=n.params.id;return Object(r.useEffect)((function(){return function(e){var t=new FormData;return t.append("paid",!0),fetch("".concat(O,"order/").concat(e,"/"),{method:"PUT",body:t}).then((function(e){return e.json()}))}(o).then((function(){t=setTimeout((function(){a.push("/user/profile/")}),3e3)})).catch((function(){return s(!0)})),function(){clearTimeout(t)}})),Object(c.jsx)(I,{children:Object(c.jsx)("div",{className:"thanks",children:Object(c.jsxs)("h2",{children:["Thanks for the order!",Object(c.jsx)("br",{}),"You will be redirected to your profile."]})})})})),K=function(e){var t=e.userData,n=Object(r.useState)(null),a=Object(g.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)({email:"",password:"",name:"",phone:""}),l=Object(g.a)(i,2),j=l[0],d=l[1];Object(r.useEffect)((function(){d((function(e){for(var n in e)t[n]&&(e[n]=t[n]);return e}))}),[t]);var p=function(e){var t=e.target,n=t.name,c=t.value;d((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(S.a)({},n,c))}))},f=Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col text-left",children:Object(c.jsx)("div",{className:"alert alert-danger",style:{display:s?"block":"none"},children:s})})}),m=t.name,x=t.email,v=t.phone;return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(null),function(e,t){var n=new FormData;for(var c in t)n.append(c,t[c]);return n.append("session_token",JSON.parse(localStorage.webToken)),fetch("".concat(O,"user/").concat(e,"/"),{method:"PUT",body:n}).then(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",Object.values(n));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(t.id,j).then((function(e){e&&Array.isArray(e)&&o(e[0])})).catch((function(e){return console.log(e)}))},className:"sign-form",children:[Object(c.jsx)("h2",{children:"User data"}),f,Object(c.jsx)("input",{defaultValue:x,type:"email",id:"email",className:"form-control",required:!0,placeholder:"Email *",onChange:p}),Object(c.jsx)("input",{type:"password",id:"password",className:"form-control",required:!0,placeholder:"Password *",onChange:p}),Object(c.jsx)("input",{defaultValue:m,type:"name",id:"name",className:"form-control",placeholder:"Name",onChange:p}),Object(c.jsx)("input",{defaultValue:v,type:"phone",id:"phone",className:"form-control",placeholder:"Phone",onChange:p}),Object(c.jsx)("input",{type:"submit",id:"inputSubmit",className:"btn btn-dark",value:"Change Data"})]})},Q=(n(48),function(){var e=Object(r.useState)(null),t=Object(g.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,N();case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(e){var t=e.orders;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Privous orders"}),[].concat(t).reverse().map((function(e,t){var n=e.products,r=e.total_amount,a=e.address,s=e.paid,o=e.link;return Object(c.jsxs)("div",{className:"order-card",children:[Object(c.jsx)("p",{children:"Ordered products:"}),Object(c.jsx)("ul",{children:n.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))}),Object(c.jsxs)("p",{children:["Address: ",a]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("p",{children:["Total amount: $",r]}),s?Object(c.jsx)("p",{className:"status",children:"Order paid"}):Object(c.jsx)("a",{href:o,target:"blank",className:"btn btn-dark status",children:"Please complete the payment"})]},t)}))]})};return Object(c.jsx)(I,{children:Object(c.jsxs)("div",{className:"profile",children:[Object(c.jsx)("div",{className:"profile-orders",children:n?Object(c.jsx)(s,{orders:n.orders}):Object(c.jsx)(c.Fragment,{})}),Object(c.jsx)("div",{className:"profile-data",children:n?Object(c.jsx)(K,{userData:n}):Object(c.jsx)(c.Fragment,{})})]})})}),X=(n(49),{editProducts:T,setError:P}),Z=Object(C.b)((function(e){return{products:e.products}}),X)((function(e){var t=e.products,n=e.setError,a=e.editProducts;Object(r.useEffect)((function(){M().then((function(e){e.error?n(!0):a(e)})).catch((function(){return n(!0)}))}),[]);var s=function(e){var t=e.id,n=e.name,r=e.image;return Object(c.jsxs)("div",{className:"product-image",children:[Object(c.jsx)("h3",{children:n}),Object(c.jsx)(i.b,{to:"/shop/".concat(t),children:Object(c.jsx)("img",{src:r,alt:n})})]})};return Object(c.jsx)(I,{children:Object(c.jsxs)("div",{className:"home-preview",children:[t&&t.slice(0,4).map((function(e,t){var n=e.id,r=e.name,a=e.image;return Object(c.jsx)(s,{id:n,name:r,image:a},t)})),Object(c.jsx)(i.b,{to:"/shop/",className:"btn btn-black",children:"SHOP NOW"})]})})})),ee=(n(50),{editProducts:T,setError:P}),te=Object(C.b)((function(e){return{products:e.products}}),ee)((function(e){var t=e.category,n=e.id,a=e.products,s=e.setError,o=e.editProducts;Object(r.useEffect)((function(){M().then((function(e){e.error?s(!0):o(e)})).catch((function(){return s(!0)}))}),[]);var l=function(){return a.filter((function(e){return e.category===t&&e.id!==n})).slice(0,2)};return a&&l().length>0&&Object(c.jsxs)("div",{className:"similar-products",children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Similar products"}),Object(c.jsx)("div",{className:"similar-products-list",children:l().map((function(e,t){return Object(c.jsxs)("div",{className:"similar-product",children:[Object(c.jsx)(i.b,{to:"/shop/".concat(e.id,"/"),children:Object(c.jsx)("img",{src:e.image,alt:e.name})}),Object(c.jsx)("h3",{children:e.name})]},t)}))})]})}));var ne=function(e){var t=e.product,n=Object(r.useState)(null),a=Object(g.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(g.a)(i,2),u=l[0],j=l[1],d=function(e,t){return!!(e&&localStorage.cart&&JSON.parse(localStorage.cart).filter((function(n){return n.id===e.id&&n.name[1]===t})).length>0)};Object(r.useEffect)((function(){o(t.sizes[0]),j(d(t,t.sizes[0]))}),[t]);var b=function(){q(t,s),j(d(t,s))},h=function(){F({name:[t.name,s]}),j(d(t,s))},O=t.name,p=t.description,f=t.price,m=t.image,x=t.sizes;return Object(c.jsxs)("div",{className:"product-page",children:[Object(c.jsxs)("div",{className:"product-card",children:[Object(c.jsx)("div",{className:"product-card-image-block",children:Object(c.jsx)("img",{src:m,alt:O})}),Object(c.jsxs)("div",{className:"product-card-data",children:[Object(c.jsx)("h1",{className:"product-card-header",children:O}),Object(c.jsxs)("p",{className:"product-card-price",children:[f," $"]}),Object(c.jsx)("p",{className:"product-card-description",children:p}),Object(c.jsx)("select",{className:"product-card-selector",onChange:function(e){o(e.target.value),j(d(t,e.target.value))},children:x&&x.length>0?x.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)})):Object(c.jsx)("option",{disabled:!0,children:"Sorry nothing left :("})}),t.sizes.length>0&&t.is_active?Object(c.jsx)("button",{onClick:b,className:"btn btn-dark",children:Object(c.jsx)("i",{className:"fas fa-shopping-cart","aria-hidden":"true"})}):Object(c.jsx)("p",{className:"btn btn-light",style:{cursor:"default"},children:"Coming soon"}),u&&Object(c.jsx)("button",{onClick:h,className:"btn btn-light",children:"Remove"})]})]}),Object(c.jsx)(te,{category:t.category,id:t.id})]})},ce={setError:P},re=Object(C.b)((function(){return{}}),ce)((function(e){var t=e.match,n=e.setError,a=t.params.id,s=Object(r.useState)(null),o=Object(g.a)(s,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){(function(e){return fetch("".concat(O,"product/").concat(e,"/")).then((function(e){return e.json()})).then((function(e){return Object(u.a)(Object(u.a)({},e),{},{sizes:e.sizes.filter((function(e){return e}))})}))})(a).then((function(e){l(e)})).catch((function(){return n(!0)}))}),[a]),Object(c.jsx)(I,{children:i&&Object(c.jsx)(ne,{product:i})})}));function ae(){var e=Object(l.g)();return Object(c.jsxs)(I,{children:[Object(c.jsx)("h1",{children:"Error 404"}),Object(c.jsxs)("h3",{children:["No match for ",Object(c.jsx)("code",{children:e.pathname})]})]})}var se=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",component:Z}),Object(c.jsx)(l.b,{exact:!0,path:"/shop",component:$}),Object(c.jsx)(l.b,{exact:!0,path:"/signin/",component:A}),Object(c.jsx)(l.b,{exact:!0,path:"/cart/",component:U}),Object(c.jsx)(l.b,{exact:!0,path:"/shop/:id",component:re}),Object(c.jsx)(v,{exact:!0,path:"/order/",component:Y}),Object(c.jsx)(v,{exact:!0,path:"/user/profile/",component:Q}),Object(c.jsx)(v,{exact:!0,path:"/order/success/:id",component:W}),Object(c.jsx)(l.b,{path:"*",children:Object(c.jsx)(ae,{})})]})})},oe=n(19),ie={products:null,error:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PRODUCTS":return Object(u.a)(Object(u.a)({},e),{},{products:t.payload});case"SET_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});default:return e}},ue=Object(oe.b)(le);o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(C.a,{store:ue,children:Object(c.jsx)(se,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.1a73a5fd.chunk.js.map